@using Blog.WebService.ViewModels.Article;

@model CreateArticleViewModel;

@{
    ViewData["Title"] = "NewArticle";
}

<div class="container form-container px-0">
    <div>
        <h2>Добавление статьи</h2>
        <hr />
    </div>
    <form method="post" asp-controller="Article" asp-action="AddArticle">
        <div asp-asp-validation-summary="Model">
            <input type="hidden" asp-for="AuthorId" value="@Model.AuthorId" />
            <div class="col my-3">
                <div class="d-flex flex-row gap-3">
                    @for(var i = 0; i < Model.ArticleTags.Count; i++)
                    {
                        <div>
                            <input id="@Model.ArticleTags[i].Name" class="form-check-input me-1" type="checkbox" asp-for="@Model.ArticleTags[i].Selected" />
                            <label class="@Model.ArticleTags[i].Name" for="firstCheckbox">@Model.ArticleTags[i].Name</label>
                            <input type="hidden" asp-for="@Model.ArticleTags[i].Id" />
                            <input type="hidden" asp-for="@Model.ArticleTags[i].Name" />
                        </div>
                    }
                </div>
            </div>
            
            <div class="col my-3">
                <label class="px-0" for="NewArticleTitle">Заголовок</label>
                <input id="NewArticleTitle" asp-for="Title" class="form-control" type="text" />
            </div>

            <div class="col my-3">
                <label class="px-0" for="NewArticleContent">Содержание</label>
                <textarea id="NewArticleContent" asp-for="Content" class="form-control" type="text"></textarea>
            </div>

            <div class="col my-3">
                <input class="btn btn-primary" type="submit" value="Добавить" />
            </div>
        </div>
    </form>

    <div class="container-sm">
        <a class="link-primary" asp-area="" asp-controller="Article" asp-action="Articles">Вернуться к списку всех статей</a>
    </div>
</div>