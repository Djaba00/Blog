@using Blog.WebService.ViewModels.User;

@model EditUserViewModel;

@{
    ViewData["Title"] = "EditUser";
}

<div class="container form-container px-0">
    <div>
        <h2>Редактирование пользователя</h2>
        <hr />
    </div>
    <form method="post" asp-controller="User" asp-action="EditUser">
        <div asp-asp-validation-summary="Model">
            <input type="hidden" asp-for="Id" value="@Model.Id" />
            <div class="col my-3">
                <div class="d-flex flex-row gap-3">
                    @for (var i = 0; i < Model.Roles.Count; i++)
                    {
                        <div>
                            @if(Model.Roles[i].Name == "User")
                            {
                                <input id="@Model.Roles[i].Name" class="form-check-input me-1" type="checkbox" asp-for="@Model.Roles[i].Selected" value="true" readonly/>
                            }
                            else
                            {
                                <input id="@Model.Roles[i].Name" class="form-check-input me-1" type="checkbox" asp-for="@Model.Roles[i].Selected" />
                            }
                            <label for="@Model.Roles[i].Name">@Model.Roles[i].Name</label>
                            <input type="hidden" asp-for="@Model.Roles[i].Id" />
                            <input type="hidden" asp-for="@Model.Roles[i].Name" />
                            <input type="hidden" asp-for="@Model.Roles[i].Description" />
                        </div>
                    }
                </div>
            </div>

            <div class="col my-3">
                <label class="px-0" for="EditUserFirstName">Имя</label>
                <input id="EditUserFirstName" asp-for="Profile.FirstName" class="form-control" value="@Model.Profile.FirstName" type="text" />
            </div>

            <div class="col my-3">
                <label class="px-0" for="EditUserLastName">Фамилия</label>
                <input id="EditUserLastName" asp-for="Profile.LastName" class="form-control" value="@Model.Profile.LastName" type="text" />
            </div>

            <div class="col my-3">
                <label class="px-0" for="EditUserMiddleName">Отчество</label>
                <input id="EditUserMiddleName" asp-for="Profile.MiddleName" class="form-control" value="@Model.Profile.MiddleName" type="text" />
            </div>

            <div class="col my-3">
                <label class="px-0" for="EditUserEmail">E-mail</label>
                <input id="EditUserEmail" asp-for="Email" class="form-control" value="@Model.Email" type="email" />
            </div>

            <div class="col my-3">
                <label class="px-0" for="EditUserOldPassword">Старый пароль</label>
                <input id="EditUserOldPassword" asp-for="OldPassword" class="form-control" type="password" />
            </div>

            <div class="col my-3">
                <label class="px-0" for="EditUserNewPassword">Новый пароль</label>
                <input id="EditUserNewPassword" asp-for="NewPassword" class="form-control" type="password" />
            </div>

            <div class="col my-3">
                <input class="btn btn-primary" type="submit" value="Сохранить" />
            </div>
        </div>
    </form>

    <div class="container-sm">
        <a class="link-primary" asp-area="" asp-controller="Article" asp-action="Articles">Вернуться к списку всех статей</a>
    </div>
</div>